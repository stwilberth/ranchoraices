---
import Layout from '../components/Layout.astro';
import Gallery from '../components/Gallery.jsx';
import { languages } from '../i18n.js';
import fs from 'node:fs';

const lang = 'es';
const t = languages[lang];

// Leemos las imÃ¡genes como antes, pero ahora solo pasamos la lista al componente.
const imageDir = './public/images/gallery';
const imageFiles = fs.readdirSync(imageDir).filter(file => 
  /\.(jpe?g|png|gif)$/i.test(file)
);
const images = imageFiles.map(file => `/images/gallery/${file}`);
---

<Layout url={Astro.url}>
  <section class="py-16 px-4 md:px-0 max-w-5xl mx-auto">
    <h1 class="font-display text-3xl md:text-5xl text-amber-900 mb-6">{t.gallery}</h1>
    
    <Gallery client:load images={images} />

  </section>
</Layout>
