---
import { Image } from 'astro:assets';
import img1 from "../assets/images/hospedajes/villa-casa-sirena/1.jpg";
import img2 from "../assets/images/hospedajes/villa-casa-sirena/2.jpg";
import img3 from "../assets/images/hospedajes/villa-casa-sirena/3.jpg";
import img4 from "../assets/images/hospedajes/villa-casa-sirena/4.jpg";
import img5 from "../assets/images/hospedajes/villa-casa-sirena/5.jpg";
import img6 from "../assets/images/hospedajes/villa-casa-sirena/6.jpg";
import img7 from "../assets/images/hospedajes/villa-casa-sirena/7.jpg";
import img8 from "../assets/images/hospedajes/villa-casa-sirena/8.jpg";
import img9 from "../assets/images/hospedajes/villa-casa-sirena/9.jpg";
import img10 from "../assets/images/hospedajes/villa-casa-sirena/10.jpg";
import { accommodations as rawAccommodations } from '../data/accommodations.js';

export interface Props {
  lang: 'es' | 'en';
}
const { lang } = Astro.props as Props;

const accommodations = rawAccommodations.map(acc => ({
  ...acc,
  description: acc.description[lang],
  amenities: acc.amenities[lang]
}));
---

<section class="py-20 px-4 bg-green-50">
  <div class="max-w-6xl mx-auto">
    <h2 class="font-display text-3xl md:text-4xl text-amber-900 text-center mb-12">Hospedajes Recomendados</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {accommodations.map((acc) => {
        const detailUrl = lang === 'en' ? `/en/accommodations/${acc.slug}` : `/accommodations/${acc.slug}`;
        return (
        <a href={detailUrl} class="block bg-white rounded-lg shadow-lg overflow-hidden max-w-md mx-auto hover:shadow-xl transition-all duration-300 hover:scale-105 cursor-pointer">
          <Image
            src={acc.images[0]}
            alt={acc.name}
            class="w-full h-72 object-cover"
          />
          <div class="p-6">
            <h3 class="font-display text-2xl text-amber-900 mb-2">{acc.name}</h3>
            <p class="text-sm text-gray-500 mb-2">{acc.location}</p>
            <p class="text-gray-700 mb-4">{acc.description}</p>
            <div class="mb-4">
              <h4 class="font-semibold text-amber-900 mb-2">Servicios:</h4>
              <ul class="text-sm text-gray-600 grid grid-cols-2 gap-1">
                {acc.amenities.map((amenity) => (
                  <li class="flex items-center">
                    <span class="text-green-500 mr-1">✓</span> {amenity}
                  </li>
                ))}
              </ul>
            </div>
            <div class="flex flex-col space-y-2">
              <a
                href={acc.website}
                target="_blank"
                rel="noopener noreferrer"
                class="px-4 py-2 bg-amber-400 text-amber-900 rounded-lg hover:bg-amber-500 transition text-center"
              >
                Visitar Sitio Web
              </a>
              <a
                href={acc.facebook}
                target="_blank"
                rel="noopener noreferrer"
                class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-center"
              >
                Facebook
              </a>
            </div>
            <div class="px-6 pb-4">
              <p class="text-amber-600 font-semibold text-center hover:text-amber-700">
                {lang === 'es' ? 'Ver más detalles →' : 'View more details →'}
              </p>
            </div>
          </div>
        </a>
        );
      })}
    </div>
  </div>
</section>
